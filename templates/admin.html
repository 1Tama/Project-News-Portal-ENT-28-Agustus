{% extends "layout.html" %}
{% block content %}
<h2>Admin Panel</h2>
<form method="POST" enctype="multipart/form-data">
  <input type="text" name="title" class="form-control mb-2" placeholder="Title">
  <textarea name="content" class="form-control mb-2" rows="4" placeholder="Content (supports HTML)"></textarea>
  <input type="file" name="image" class="form-control mb-2">
  <button type="submit" class="btn btn-success">Add Article</button>
</form>
<hr>
<h3>Existing Articles</h3>
<ul>
{% for article in articles %}
  <li>
    <strong>{{ article.title }}</strong>
    <small class="text-muted">({{ article.created_at.strftime('%b %d, %Y') }})</small>
    - <a href="{{ url_for('edit_article', article_id=article.id) }}">Edit</a> | 
    <a href="{{ url_for('delete_article', article_id=article.id) }}">Delete</a>
  </li>
{% endfor %}
</ul>
<hr>
<h3>Create User</h3>
<form method="POST" action="{{ url_for('create_user') }}">
  <input type="email" name="email" class="form-control mb-2" placeholder="Email" required>
  <input type="password" name="password" class="form-control mb-2" placeholder="Password" required>
  <select name="role" class="form-control mb-2">
    <option value="admin">Admin</option>
    <option value="writer">Writer/Journalist</option>
  </select>
  <button type="submit" class="btn btn-primary">Create User</button>
</form>
{% endblock %}
