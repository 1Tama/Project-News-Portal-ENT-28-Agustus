{% extends "layout.html" %}
{% block content %}
<h2>{{ 'Edit' if article else 'New' }} Article</h2>
<form method="post" enctype="multipart/form-data" class="card card-body">
  <div class="mb-3"><label class="form-label">Title</label><input type="text" name="title" class="form-control" value="{{ article.title if article else '' }}" required></div>
  <div class="mb-3"><label class="form-label">Content (simple HTML allowed)</label><textarea name="content" class="form-control" rows="6" required>{{ article.content if article else '' }}</textarea></div>
  <div class="mb-3"><label class="form-label">Banner Image (JPG/PNG/GIF)</label><input type="file" name="image" class="form-control" {% if not article %}required{% endif %}></div>
  {% if article and article.image %}
  <div class="mb-3">
    <img src="{{ url_for('static', filename='uploads/' ~ article.image) }}" class="article-banner img-fluid">
  </div>
  {% endif %}
  <div><button class="btn btn-primary">Save</button> <a href="{{ url_for('admin_dashboard') }}" class="btn btn-outline-secondary">Cancel</a></div>
</form>
{% endblock %}
